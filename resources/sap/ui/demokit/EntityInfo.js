/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2016 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['jquery.sap.global','./util/jsanalyzer/ModuleAnalyzer'],function(q,c){"use strict";var r={};function g(n){var P=n.split('.');var a=r;var l=P.length-1;for(var i=0;i<l&&!a.__noMetamodel&&!a.__noSource;i++){a=a[P[i]]||(a[P[i]]={});}return a;}var C="boolean int float number function object string void any Element Control Component";function d(t,a){if(t.indexOf("/")>=0){return t.replace(/\//g,".");}else if(t&&t.indexOf(".")<0&&C.indexOf(t)>=0){return"sap.ui.core."+t;}else{return a.split(".").slice(0,-1).concat([t.replace(/\//g,".")]).join(".");}}function p(D,e){var $=q(D.documentElement);var a={metatype:'control',baseType:undefined,doc:undefined,deprecation:undefined,properties:{},aggregations:{},associations:{},events:{},methods:{}};var b=$.children("baseType").text();a.baseType=(b)?d(b,e):null;a.doc=k($);a.deprecation=m($);j($,"properties/property",function(i){a.properties[i.attr("name")]={kind:0,type:d(i.attr("type")||"string",e),defaultValue:i.attr("defaultValue")||"empty/undefined",doc:k(i),deprecation:m(i),since:i.attr("since")||null};});a.defaultAggregation=a.defaultAggregation||$.children("aggregations").attr("default");j($,"aggregations/aggregation",function(i){a.aggregations[i.attr("name")]={kind:i.attr("cardinality")==="0..1"?1:2,type:d(i.attr("type")||"sap.ui.core/Control",e),cardinality:i.attr("cardinality")||"0..n",visibility:i.attr("visibility")||null,doc:k(i),deprecation:m(i),since:i.attr("since")||null};});j($,"associations/association",function(i){a.associations[i.attr("name")]={kind:i.attr("cardinality")==="0..n"?4:3,type:d(i.attr("type")||"sap.ui.core/Control",e),cardinality:i.attr("cardinality")||"0..1",doc:k(i),deprecation:m(i),since:i.attr("since")||null};});j($,"events/event",function(i){var n=i.attr("name");a.events[n]={kind:5,doc:k(i),deprecation:m(i),since:i.attr("since")||null,parameters:[]};j(i,"parameters/parameter",function(l){a.events[n].parameters[l.attr("name")]={kind:6,type:d(l.attr("type")||"string",e),doc:k(l),since:l.attr("since")||null,deprecation:m(l)};});});j($,"methods/method",function(i){var n=i.attr("name");a.methods[n]={kind:7,type:d(i.attr("type")||"sap.ui.core/void",e),doc:k(i),deprecation:m(i),since:i.attr("since")||null,parameters:[]};j(i,"parameters/parameter",function(l){a.methods[n].parameters.push({kind:8,name:l.attr("name"),type:d(l.attr("type")||"sap.ui.core/Control",e),doc:k(l),since:l.attr("since")||null,deprecation:m(l)});});});return a;}function f(D,e){var $=q(D.documentElement);var a={metatype:'type',doc:undefined,deprecation:false,values:{}};a.doc=k($);a.deprecation=m($);j($,"enumeration/value",function(b){var n=b.attr("name");a.values[n]={value:b.attr("value")||n,doc:k(b),deprecation:m(b)};});a.pattern=$.children("pattern").text();a.baseType=d($.children("baseType").text(),e);return a;}function h(D,e,M){return c.analyze(D,e,M);}function j($,N,a){q.each(N.split("/"),function(i,n){$=$.children(n);});$.each(function(i,e){a(q(e));});}function k($){return $.children("documentation").text();}function m($){return $.children("deprecation").text();}function o(n,t,D,P,e){var a;q.ajax({async:false,url:q.sap.getModulePath(n,t),dataType:D,success:function(R){a=P(R,e,n.replace(/\./g,'/'));},error:function(b){q.sap.log.debug("tried to load entity docu for: "+n+t);}});return a;}function s(e,t){var b=!t||t==="control";var T=!t||t==="type";var P=g(e);var a;if(!a&&!P.__noMetamodel){if(!a&&b){a=o(e,".control","xml",p,e);}if(!a&&T){a=o(e,".type","xml",f,e);}if(a){P.__noSource=true;}}else if(P.__noMetamodel){q.sap.log.debug("ancestor package for "+e+" is marked with 'noMetamodel'");}if(!a&&!P.noSource){if(!a&&T){var l=e.replace(/\.[^.]+$/,".library");a=o(l,".js","text",h,e);}if(!a){a=o(e,".js","text",h,e);}if(a){P.__noMetamodel=true;}}else if(P.__noSource){q.sap.log.debug("ancestor package for "+e+" is marked with 'noSource'");}return a;}var E={getEntityDocu:function(e,t,R){function i(a,b){for(var n in b){if(b.hasOwnProperty(n)&&!a.hasOwnProperty(n)){a[n]=b[n];}}}var l=s(e,t);if(R){var D=l;while(D&&D.baseType){D=s(D.baseType,D.metatype);if(D){i(l.properties,D.properties);i(l.aggregations,D.aggregations);i(l.associations,D.assocations);i(l.events,D.events);i(l.methods,D.methods);}}}return l;}};return E;},true);
